<?php  if ( ! defined( 'ABSPATH' ) ) { exit; } if ( ! class_exists( 'GFIPPANELSMS_Pro_WebServices' ) ) { class GFIPPANELSMS_Pro_WebServices { public static function get() { return apply_filters( 'gf_sms_gateways', array( 'no' => __( 'Select a Gateway', 'GF_IPPanel' ) ) ); } public static function action( $settings, $action, $from, $to, $messages ) { $gateway = isset( $settings["ws"] ) ? $settings["ws"] : ''; if ( empty( $gateway ) || $gateway == 'no' ) { return __( 'No Gateway found.', 'GF_IPPanel' ); } $GATEWAY = strtoupper( $gateway ); $Gateway = 'GFIPPANELSMS_Pro_' . $GATEWAY; $messages = str_replace( array( "<br>", "<br/>", "<br />", '&nbsp;' ), array( "\n", "\n", "\n", '' ), $messages ); $messages = strip_tags( $messages ); if ( ! class_exists( $Gateway ) && file_exists( GF_SMS_GATEWAY . strtolower( $gateway ) . '.php' ) ) { require_once( GF_SMS_GATEWAY . strtolower( $gateway ) . '.php' ); } if ( class_exists( $Gateway ) && method_exists( $Gateway, 'process' ) ) { $options = get_option( "gf_ippanelsms_" . $GATEWAY ); $result = $Gateway::process( $options, $action, $from, $to, $messages ); return $result; } return __( 'No Gateway found.', 'GF_IPPanel' ); } } } 